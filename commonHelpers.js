import{S as y,i as d,a as f}from"./assets/vendor-35c1679e.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();const g=document.querySelector(".search-form"),u=document.querySelector(".gallery"),m=document.querySelector(".loader"),h="https://pixabay.com/api/",E="41691907-8ad9316873af52a17838b1992",w=new y(".gallery a"),c=document.querySelector(".bt");let i;d.settings({timeout:3e3,resetOnHover:!0,icon:null,position:"topRight",close:!1,closeOnClick:!0,closeOnEscape:!0});const n={params:{key:E,image_type:"photo",per_page:40,orientation:"horizontal",safesearch:!0,page:1,q:""}};g.addEventListener("submit",async e=>{e.preventDefault();const r=e.target.search.value;n.params.q=r,n.params.page=1,u.innerHTML="",m.style.display="flex",await p(n)});c.addEventListener("click",async()=>{n.params.page+=1,await p(n);const e=document.querySelector(".gallery-item"),{height:r}=e.getBoundingClientRect();window.scrollBy({top:r*2,left:0,behavior:"smooth"})});const p=async e=>{try{const r=(await f.get(h,e)).data;if(r.hits.length===0)throw new Error("Sorry, there are no images matching your search query. Please, try again!");if(e.params.page==1&&(i=Math.ceil(r.totalHits/e.params.per_page)),u.append(...r.hits.map(s=>L(s))),w.refresh(),e.params.page==i)throw new Error("We're sorry, but you've reached the end of search results.");c.style.display="block"}catch(r){c.style.display="none",d.error({message:r.message})}finally{m.style.display="none"}},L=e=>{const r=document.createElement("li");r.className="gallery-item";const s=document.createElement("a");s.className="gallery-link",s.href=e.largeImageURL,r.appendChild(s);const a=document.createElement("img");a.className="gallery-image",a.src=e.webformatURL,a.title=e.tags,a.dataset.source=e.largeImageURL;const t=document.createElement("ul");t.className="tags";const o=b({Likes:e.likes,Views:e.views,Comments:e.comments,Downloads:e.downloads});return s.appendChild(a),t.append(...o),s.appendChild(t),r},b=e=>{const r=[];return Object.keys(e).forEach(s=>{const a=document.createElement("li");a.textContent=s;const t=document.createElement("p");t.textContent=e[s],a.appendChild(t),r.push(a)}),r};
//# sourceMappingURL=commonHelpers.js.map
