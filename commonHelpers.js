import{S as u,i as l,a as d}from"./assets/vendor-35c1679e.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const m=document.querySelector(".search-form"),c=document.querySelector(".gallery"),i=document.querySelector(".loader"),p="https://pixabay.com/api/",f="41691907-8ad9316873af52a17838b1992",y=new u(".gallery a");l.settings({timeout:1e4,resetOnHover:!0,icon:null,position:"topRight",close:!1,closeOnClick:!0,closeOnEscape:!0});m.addEventListener("submit",async r=>{r.preventDefault();const s=r.target.search.value;c.innerHTML="",i.style.display="flex";const n=new URLSearchParams({key:f,q:s,image_type:"photo",orientation:"horizontal",safesearch:!0});try{const t=await d.get(`${p}?${n}`);t.data.hits.length===0&&l.error({message:"Sorry, there are no images matching your search query. Please, try again!"}),c.append(...t.data.hits.map(e=>h(e))),y.refresh()}catch(t){l.error({message:t.message})}finally{i.style.display="none"}});const h=r=>{const s=document.createElement("li");s.className="gallery-item";const n=document.createElement("a");n.className="gallery-link",n.href=r.largeImageURL,s.appendChild(n);const t=document.createElement("img");t.className="gallery-image",t.src=r.webformatURL,t.title=r.tags,t.dataset.source=r.largeImageURL;const e=document.createElement("ul");e.className="tags";const o=g({Likes:r.likes,Views:r.views,Comments:r.comments,Downloads:r.downloads});return n.appendChild(t),e.append(...o),n.appendChild(e),s},g=r=>{const s=[];return Object.keys(r).forEach(n=>{const t=document.createElement("li");t.textContent=n;const e=document.createElement("p");e.textContent=r[n],t.appendChild(e),s.push(t)}),s};
//# sourceMappingURL=commonHelpers.js.map
