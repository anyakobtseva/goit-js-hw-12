{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport axios from 'axios';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst PIXABAY_URL = 'https://pixabay.com/api/';\nconst API_KEY = import.meta.env.VITE_API_KEY;\nconst ligthbox = new SimpleLightbox('.gallery a');\n\niziToast.settings({\n  timeout: 10000,\n  resetOnHover: true,\n  icon: null,\n  position: 'topRight',\n  close: false,\n  closeOnClick: true,\n  closeOnEscape: true,\n});\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = event.target.search.value;\n  gallery.innerHTML = '';\n  loader.style.display = 'flex';\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  try {\n    const images = await axios.get(`${PIXABAY_URL}?${searchParams}`);\n    if (images.data.hits.length === 0) {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please, try again!',\n      });\n    }\n    gallery.append(...images.data.hits.map(image => createGalleryItem(image)));\n    ligthbox.refresh();\n  } catch (error) {\n    iziToast.error({\n      message: error.message,\n    });\n  } finally {\n    loader.style.display = 'none';\n  }\n});\n\nconst createGalleryItem = image => {\n  const liEl = document.createElement('li');\n  liEl.className = 'gallery-item';\n  const linkEl = document.createElement('a');\n  linkEl.className = 'gallery-link';\n  linkEl.href = image.largeImageURL;\n  liEl.appendChild(linkEl);\n  const imEl = document.createElement('img');\n  imEl.className = 'gallery-image';\n  imEl.src = image.webformatURL;\n  imEl.title = image.tags;\n  imEl.dataset.source = image.largeImageURL;\n  const ulEl = document.createElement('ul');\n  ulEl.className = 'tags';\n\n  const lis = generateTags({\n    Likes: image.likes,\n    Views: image.views,\n    Comments: image.comments,\n    Downloads: image.downloads,\n  });\n\n  linkEl.appendChild(imEl);\n  ulEl.append(...lis);\n  linkEl.appendChild(ulEl);\n  return liEl;\n};\n\nconst generateTags = (obj) => {\n  const lis = [];\n  Object.keys(obj).forEach(key => {\n    const li = document.createElement('li');\n    li.textContent = key;\n    const p = document.createElement('p');\n    p.textContent = obj[key];\n    li.appendChild(p);\n    lis.push(li);\n  });\n\n  return lis;\n}\n"],"names":["form","gallery","loader","PIXABAY_URL","API_KEY","ligthbox","SimpleLightbox","iziToast","event","query","searchParams","images","axios","image","createGalleryItem","error","liEl","linkEl","imEl","ulEl","lis","generateTags","obj","key","li","p"],"mappings":"owBAOA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAc,2BACdC,EAAU,GACVC,EAAW,IAAIC,EAAe,YAAY,EAEhDC,EAAS,SAAS,CAChB,QAAS,IACT,aAAc,GACd,KAAM,KACN,SAAU,WACV,MAAO,GACP,aAAc,GACd,cAAe,EACjB,CAAC,EAEDP,EAAK,iBAAiB,SAAU,MAAMQ,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,OAAO,MAClCP,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,OACvB,MAAMQ,EAAe,IAAI,gBAAgB,CACvC,IAAKN,EACL,EAAGK,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,GAAI,CACF,MAAME,EAAS,MAAMC,EAAM,IAAI,GAAGT,KAAeO,GAAc,EAC3DC,EAAO,KAAK,KAAK,SAAW,GAC9BJ,EAAS,MAAM,CACb,QACE,2EACV,CAAO,EAEHN,EAAQ,OAAO,GAAGU,EAAO,KAAK,KAAK,IAAIE,GAASC,EAAkBD,CAAK,CAAC,CAAC,EACzER,EAAS,QAAO,CACjB,OAAQU,EAAP,CACAR,EAAS,MAAM,CACb,QAASQ,EAAM,OACrB,CAAK,CACL,QAAY,CACRb,EAAO,MAAM,QAAU,MACxB,CACH,CAAC,EAED,MAAMY,EAAoBD,GAAS,CACjC,MAAMG,EAAO,SAAS,cAAc,IAAI,EACxCA,EAAK,UAAY,eACjB,MAAMC,EAAS,SAAS,cAAc,GAAG,EACzCA,EAAO,UAAY,eACnBA,EAAO,KAAOJ,EAAM,cACpBG,EAAK,YAAYC,CAAM,EACvB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,gBACjBA,EAAK,IAAML,EAAM,aACjBK,EAAK,MAAQL,EAAM,KACnBK,EAAK,QAAQ,OAASL,EAAM,cAC5B,MAAMM,EAAO,SAAS,cAAc,IAAI,EACxCA,EAAK,UAAY,OAEjB,MAAMC,EAAMC,EAAa,CACvB,MAAOR,EAAM,MACb,MAAOA,EAAM,MACb,SAAUA,EAAM,SAChB,UAAWA,EAAM,SACrB,CAAG,EAED,OAAAI,EAAO,YAAYC,CAAI,EACvBC,EAAK,OAAO,GAAGC,CAAG,EAClBH,EAAO,YAAYE,CAAI,EAChBH,CACT,EAEMK,EAAgBC,GAAQ,CAC5B,MAAMF,EAAM,CAAA,EACZ,cAAO,KAAKE,CAAG,EAAE,QAAQC,GAAO,CAC9B,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,YAAcD,EACjB,MAAME,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,YAAcH,EAAIC,GACpBC,EAAG,YAAYC,CAAC,EAChBL,EAAI,KAAKI,CAAE,CACf,CAAG,EAEMJ,CACT"}